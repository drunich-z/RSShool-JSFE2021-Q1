(()=>{"use strict";var t,e,n,a,r,s={517:(t,e,n)=>{n.a(t,(async t=>{n.d(e,{Z:()=>c});var a=n(598),r=n(137),s=n(648),i=t([r,a,s]);[r,a,s]=i.then?await i:i;const c={async mainRoute(){document.getElementById("main-container").innerHTML="СТРАНИЦА КАТЕГОРИЙ (ОСНОВНАЯ) <br> ЕЩЁ ДОДЕЛЫВАЮ ("},async categoryRoute(){s.Z.renderCategoryPage()},async statisticsRoute(){document.getElementById("main-container").innerHTML="СТРАНИЦА СТАТИСТИКИ <br> ЕЩЁ ДОДЕЛЫВАЮ ("},async initControlls(){a.Z.initBurger(),r.Z.initSwitch()}}}))},598:(t,e,n)=>{n.a(t,(async t=>{n.d(e,{Z:()=>c});var a=n(268),r=n(549),s=n(755),i=t([r]);r=(i.then?await i:i)[0];const c={burgerBtn:document.getElementById("burger-menu_button"),burgerMenu:document.getElementById("burger-menu"),burgerLinks:document.getElementById("burger-links"),coverElement:document.getElementById("cover"),bodyElement:document.getElementById("body"),async initBurger(){this.burgerBtn=document.getElementById("burger-menu_button"),this.burgerMenu=document.getElementById("burger-menu"),this.coverElement=document.getElementById("cover"),this.bodyElement=document.getElementById("body"),this.burgerLinks=document.getElementById("burger-links");const t=await a.Z.getCategories();this.burgerLinks.innerHTML=s.Z.renderBurger(t),this.burgerBtn.addEventListener("click",(t=>this.burgerBtnHandler(t))),this.coverElement.addEventListener("click",this.handleBurger.bind(this)),this.burgerLinks.addEventListener("click",(t=>this.handleBurgerLinks(t)))},burgerBtnHandler(t){t.preventDefault(),this.handleBurger()},handleBurger(){this.bodyElement.classList.toggle("notScrollable"),this.coverElement.classList.toggle("hidden"),this.burgerMenu.classList.toggle("burger-menu_active")},async handleBurgerLinks(t){t.preventDefault();const e=t.target;if(e.classList.contains("burger-link")&&!e.classList.contains("burger-link_active")){const t=document.querySelector(".burger-link_active");t&&t.classList.remove("burger-link_active"),e.classList.add("burger-link_active"),"main"===e.dataset.type&&(r.Z.page="main",window.location.hash="main",this.handleBurger()),"category"===e.dataset.type&&(r.Z.page="category",r.Z.activeCategory.name=e.dataset.link,r.Z.cards=await a.Z.getCardsOfCategory(r.Z.activeCategory.name),window.location.hash=" ",window.location.hash="category",this.handleBurger()),"statistics"===e.dataset.type&&(r.Z.page="statistics",window.location.hash="statistics",this.handleBurger())}}}}))},137:(t,e,n)=>{n.a(t,(async t=>{n.d(e,{Z:()=>i});var a=n(549),r=n(598),s=t([a,r]);[a,r]=s.then?await s:s;const i={switchInput:document.getElementById("switch-input"),initSwitch(){this.switchInput=document.getElementById("switch-input"),this.switchInput.addEventListener("change",this.switchHandler.bind(this))},switchHandler(){r.Z.burgerMenu.classList.toggle("green"),this.switchInput.checked?a.Z.applicationMode="train":a.Z.applicationMode="game"}}}))},303:(t,e,n)=>{n.a(t,(async t=>{var e=n(755),a=n(911),r=n(517),s=n(549),i=t([r,a,s]);[r,a,s]=i.then?await i:i,await s.Z.tempInitStore(),await e.Z.renderBaseTemplate(),a.Z.init(),r.Z.initControlls(),t()}),1)},268:(t,e,n)=>{n.d(e,{Z:()=>r});const a="./assets/resource/data.json",r={async getCategories(){const t=await fetch(a),[e]=await t.json();return e.map((t=>({id:e.indexOf(t),name:t})))},async getCardsOfCategory(t){const e=await fetch(a),[n,...r]=await e.json();return r[n.indexOf(t)].filter((e=>e.category===t))},async getAllCards(){const t=await fetch(a),[e,...n]=await t.json();return n},updateStatistics(t){const e=`EFK-${t.word}`;localStorage.setItem(e,JSON.stringify(t))},getStatistics(){const t=[],e=Object.keys(localStorage);for(let n=0;n<e.length;n++)-1!==e[n].indexOf("EFK-",0)&&t.push(JSON.parse(localStorage.getItem(e[n])));return t},clearStistics(){let t;const e=Object.keys(localStorage);for(let n=0;n<e.length;n++)-1!==e[n].indexOf("EFK-",0)&&(t=Object.assign(Object.assign({},JSON.parse(localStorage.getItem(e[n]))),{trainClicks:0,gameCorrectClicks:0,gameErrorClicks:0,gameCorrectPercent:0}),localStorage.setItem(e[n],JSON.stringify(t)))},deleteStistics(){const t=Object.keys(localStorage);for(let e=0;e<t.length;e++)-1!==t[e].indexOf("EFK-",0)&&localStorage.removeItem(t[e])},initStatistics(t){let e;this.deleteStistics();for(let n=0;n<t.length;n++)e=`EFK-${t[n].word}`,localStorage.setItem(e,JSON.stringify(t[n]))}}},648:(t,e,n)=>{n.a(t,(async t=>{n.d(e,{Z:()=>i});var a=n(549),r=n(755),s=t([a]);a=(s.then?await s:s)[0];const i={renderCategoryPage(){let t="";const e=document.getElementById("main-container");t='<div id="rating" class="rating "> СТРАНИЦА КАРТОЧЕК ... ЕЩЁ ДОДЕЛЫВАЮ ( </div>',t+=r.Z.renderTrainCards(a.Z.cards),t+='<div id="btns" class="rating none"> </div>',e.innerHTML=t}}}))},911:(t,e,n)=>{n.a(t,(async t=>{n.d(e,{Z:()=>i});var a=n(517),r=t([a]);function s(){const t=function(){const t=window.location.hash?window.location.hash.slice(1):"",[e]=t.split("/");return e}();t&&("main"===t&&a.Z.mainRoute(),"category"===t&&a.Z.categoryRoute(),"statistics"===t&&a.Z.statisticsRoute())}a=(r.then?await r:r)[0];const i={async init(){window.addEventListener("hashchange",s),window.location.hash="main",s()}}}))},549:(t,e,n)=>{n.a(t,(async t=>{n.d(e,{Z:()=>s});var a=n(268),r=n(701);const s={categories:await a.Z.getCategories(),activeCategory:{name:"",id:-1},cards:[],page:"main",applicationMode:"train",statistics:[],async statInit(){const t=a.Z.getStatistics();0===t.length?this.statistics=await r.Z.initStatistics():this.statistics=t},async tempInitStore(){this.categories=await a.Z.getCategories(),[this.activeCategory]=this.categories,this.cards=await a.Z.getCardsOfCategory(this.activeCategory.name),this.page="category",this.applicationMode="train"}};t()}),1)},701:(t,e,n)=>{n.d(e,{Z:()=>r});var a=n(268);const r={async initStatistics(){const t=[],e=await a.Z.getAllCards(),n={word:"",translation:"",category:"",trainClicks:0,gameCorrectClicks:0,gameErrorClicks:0,gameCorrectPercent:0};for(let a=0;a<e.length;a++)n.word=e[a].word,n.translation=e[a].translation,n.category=e[a].category,t.push(n);return t}}},755:(t,e,n)=>{n.d(e,{Z:()=>a});const a={async renderBaseTemplate(){document.getElementById("body").innerHTML='\n    <div class="wrapper">\n      <header class="header">\n\n        <h1 id="invisible" class = "invisible">English for kids</h1>\n\n        <nav id="burger-menu" class="burger-menu green">\n          <a href id="burger-menu_button" class="burger-menu_button">\n            <span class="burger-menu_lines"></span>\n          </a>\n          <ul id="burger-links" class="burger-links green">\n          </ul>\n        </nav>\n\n        <div class="switch-container" id="switch-container">\n          <label for="switch-input" class="switch">\n            <input\n              id = "switch-input"\n              class="switch-input"\n              type="checkbox"\n              checked\n            >\n            <span id="switch-label" class="switch-label" data-on="train" data-off="play"></span>\n            <span id="switch-handle" class="switch-handle"></span>\n          </label>\n        </div>\n      </header>\n      <div id="main-container" class="main-container">\n        <div id="rating" class="rating none"> </div>\n        \n        ТУТ БУДУТ КАРТОЧКИ\n        <br>\n        ДО КОНЦА КРОССЧЕКА ПОСТАРАЮСЬ ДОДЕЛАТЬ ФУНКЦИОНАЛ\n\n      </div>\n      <footer class="footer">\n        <a href="https://rs.school/js/" "rsschool-href"> \n          <img class="rsschool-logo" src="./assets/resource/control-img/rs_school_js.svg" alt="School logo">\n        </a>\n        <a href="https://github.com/drunich-z/" target="_blank"> \n            <img class="github-logo" src="./assets/resource/control-img/github-logo.png" alt="Git logo">\n        </a>\n        <div id="student" class="student">\n          drunich-z, 2021\n        </div>\n\n      </footer>\n      <div id="cover" class="cover hidden"></div>\n    </div>\n    '},renderBurger(t){let e="";e='<a href="#main" class="burger-link burger-link_active" data-type="main">MAIN</a>';for(let n=0;n<t.length;n++)e+=`<a href="#category" class="burger-link" data-type="category" data-link="${t[n].name}">${t[n].name}</a>`;return e+='<a href="#statistics" class="burger-link" data-type="statistics" data-link="statistics">STATISTICS</a>',e},renderTrainCards(t){let e="";for(let n=0;n<t.length;n++)e+=`\n        <div class="card-container">\n          <div id="card-${t[n].word}" class="card" data-word=${t[n].word}>\n            <div class="front" style="background-image: url('./assets/resource/img/${t[n].word}.jpg')">\n              <div class="card-header">${t[n].word}</div>\n\n            </div>\n            <div class="back" style="background-image: url('./assets/resource/img/${t[n].word}.jpg')">\n              <div class="card-header">${t[n].translation}</div>\n            </div>\n            <div class="rotate" style="background-image: url('./assets/resource/control-img/rotate.svg')"></div>\n          </div>\n        </div>\n      `;return e}}}},i={};function c(t){var e=i[t];if(void 0!==e)return e.exports;var n=i[t]={exports:{}};return s[t](n,n.exports,c),n.exports}t="function"==typeof Symbol?Symbol("webpack then"):"__webpack_then__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n=t=>{t&&(t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},a=t=>!--t.r&&t(),r=(t,e)=>t?t.push(e):a(e),c.a=(s,i,c)=>{var o,l,d,g=c&&[],u=s.exports,h=!0,m=!1,y=(e,n,a)=>{m||(m=!0,n.r+=e.length,e.map(((e,r)=>e[t](n,a))),m=!1)},b=new Promise(((t,e)=>{d=e,l=()=>(t(u),n(g),g=0)}));b[e]=u,b[t]=(t,e)=>{if(h)return a(t);o&&y(o,t,e),r(g,t),b.catch(e)},s.exports=b,i((s=>{if(!s)return l();var i,c;o=(s=>s.map((s=>{if(null!==s&&"object"==typeof s){if(s[t])return s;if(s.then){var i=[];s.then((t=>{c[e]=t,n(i),i=0}));var c={[t]:(t,e)=>(r(i,t),s.catch(e))};return c}}return{[t]:t=>a(t),[e]:s}})))(s);var d=new Promise(((t,n)=>{(i=()=>t(c=o.map((t=>t[e])))).r=0,y(o,i,n)}));return i.r?d:c})).then(l,d),h=!1},c.d=(t,e)=>{for(var n in e)c.o(e,n)&&!c.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},c.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),c(303)})();