(()=>{"use strict";var e={804:(e,t,n)=>{n.r(t)},346:(e,t,n)=>{n.r(t)},88:(e,t,n)=>{n.r(t)},686:(e,t,n)=>{n.r(t)},981:(e,t,n)=>{n.r(t)},144:(e,t,n)=>{n.r(t)},23:(e,t,n)=>{n.r(t)},119:(e,t,n)=>{n.r(t)},166:(e,t,n)=>{n.r(t)},648:(e,t,n)=>{n.r(t)},372:(e,t,n)=>{n.r(t)},397:(e,t,n)=>{n.r(t)},356:(e,t,n)=>{n.r(t)},477:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,a){function o(e){try{l(i.next(e))}catch(e){a(e)}}function r(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,r)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const s=n(774);t.App=class{constructor(e,t,n){this.rootElement=e,this.gameStartControl=t,this.gameStopControl=n,this.game=new s.Game(this.gameStartControl,this.gameStopControl),this.rootElement.appendChild(this.game.element),this.classControlContainer=this.rootElement}startGame(){return i(this,void 0,void 0,(function*(){const e=yield fetch("./images.json"),[t]=yield e.json(),n=t.images.map((e=>`${t.category}/${e}`));this.game.newGame(n)}))}stopGame(){this.game.finishGame()}isCurrentGameIsRunning(){return this.game.isGameIsRunning()}show(){this.game.element.classList.remove("hidden")}hide(){this.game.element.classList.add("hidden")}}},70:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AboutGame=void 0;const i=n(92);n(804);class s extends i.BaseComponent{constructor(){super("div",["about-game-container"]),this.classControlContainer=this.element;const e=document.createElement("img");e.setAttribute("src","./assets/resource/about_pointer_circles.svg"),e.classList.add("about-picture"),e.setAttribute("alt","About"),this.element.appendChild(e)}}t.AboutGame=s},92:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseComponent=void 0,t.BaseComponent=class{constructor(e="div",t=[]){this.element=document.createElement(e),this.element.classList.add(...t)}removeAllChilds(){for(;this.element.firstChild;)this.element.lastChild&&this.element.removeChild(this.element.lastChild)}addChild(e="div",t=[],n=""){const i=document.createElement(e);i.classList.add(...t),i.innerHTML=n,this.element.appendChild(i)}show(){this.element.classList.remove("hidden")}hide(){this.element.classList.add("hidden")}}},39:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BestScore=void 0,n(346);const i=n(92),s=n(586);class a extends i.BaseComponent{constructor(){super("div",["best-score-container","hidden"]),this.createListElement=e=>{const t=`${e.name} ${e.surname}`,{email:n}=e,{score:i}=e,a=e.avatar,o=s.createDOMElement("li"),r=s.createDOMElement("div",["player-info-container"]),l=s.createDOMElement("img",["avatar"]);l.setAttribute("src",a),l.setAttribute("alt","avatar");const d=s.createDOMElement("div",["name-email-container"]),c=s.createDOMElement("div",["name"],t),u=s.createDOMElement("div",["email"],n),h=s.createDOMElement("div",["score-container"]),m=s.createDOMElement("div",["score-text"],"Score:"),p=s.createDOMElement("div",["score-value"],`${i}`);return d.appendChild(c),d.appendChild(u),r.appendChild(l),r.appendChild(d),h.appendChild(m),h.appendChild(p),o.appendChild(r),o.appendChild(h),o},this.classControlContainer=this.element}showBestScore(e){this.removeAllChilds(),this.element.classList.remove("hidden");const t=s.createDOMElement("ul",["best-score-list"]);this.element.appendChild(t);for(let n=0;n<e.length;n++){const i=this.createListElement(e[n]);t.appendChild(i)}}}t.BestScore=a},25:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Card=void 0,n(88);const i=n(92);class s extends i.BaseComponent{constructor(e){super("div",["card-container"]),this.image=e,this.isFlipped=!1,this.element.innerHTML=`\n      <div class="card">\n        <div class="card__front" style="background-image: url('./images/${e}'")></div>\n        <div class="card__back"></div>\n      </div>\n    `}flipToBack(){return this.isFlipped=!0,this.flip(!0)}flipToFront(){return this.isFlipped=!1,this.flip()}showError(){this.element.classList.add("error")}showValid(){this.element.classList.add("valid")}removeError(){this.element.classList.remove("error")}removeValid(){this.element.classList.remove("valid")}flip(e=!1){return new Promise((t=>{this.element.classList.toggle("flipped",e),this.element.addEventListener("transitionend",(()=>t()),{once:!0})}))}}t.Card=s},543:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,a){function o(e){try{l(i.next(e))}catch(e){a(e)}}function r(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,r)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.CardsField=void 0,n(686);const s=n(92),a=1e4;class o extends s.BaseComponent{constructor(){super("div",["cards-field"]),this.cards=[],this.startShowTimer=a}startShowTime(){return this.startShowTimer}clear(){this.cards=[],this.element.innerHTML=""}addCards(e){return i(this,void 0,void 0,(function*(){return this.cards=e,this.cards.forEach((e=>this.element.appendChild(e.element))),setTimeout((()=>{this.cards.forEach((e=>e.flipToBack()))}),a),new Promise((e=>setTimeout(e,a)))}))}}t.CardsField=o},123:function(e,t){var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,a){function o(e){try{l(i.next(e))}catch(e){a(e)}}function r(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,r)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DBAccess=void 0;class i{connect(e,t){return n(this,void 0,void 0,(function*(){if(this.db)return this.db;let n=3;const i=indexedDB.open(e,1);return new Promise(((s,a)=>{i.onerror=i=>(n--,n?this.connect(e,t):a(i)),i.onsuccess=()=>{this.db=i.result,s(this.db)},i.onupgradeneeded=()=>{this.db=i.result,i.result.createObjectStore(t,{keyPath:"uid"}),s(this.db)}}))}))}get instance(){return this.dbAccess||(this.dbAccess=new i),this.dbAccess}}t.DBAccess=i},485:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,a){function o(e){try{l(i.next(e))}catch(e){a(e)}}function r(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,r)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DBBestScore=void 0;const s=n(985);class a extends s.DataAccess{addFivePlayersOnStart(){return i(this,void 0,void 0,(function*(){let e=yield this.get("zverev-and@mail.ru");void 0===e&&this.add({uid:"zverev-and@mail.ru",name:"Andrey",surname:"Zverev",email:"zverev-and@mail.ru",avatar:"",score:45}),e=yield this.get("petrov@mail.ru"),void 0===e&&this.add({uid:"petrov@mail.ru",name:"Ivan",surname:"Petrov",email:"petrov@mail.ru",avatar:"",score:45}),e=yield this.get("Bob.Marley@no.woman.no.cry"),void 0===e&&this.add({uid:"Bob.Marley@no.woman.no.cry",name:"Bob",surname:"Marley",email:"Bob.Marley@no.woman.no.cry",avatar:"",score:100}),e=yield this.get("kevin.spacey@us.com"),void 0===e&&this.add({uid:"kevin.spacey@us.com",name:"Kevin",surname:"Spacey",email:"kevin.spacey@us.com",avatar:"",score:70}),e=yield this.get("rsschool@cool.yep"),void 0===e&&this.add({uid:"rsschool@cool.yep",name:"Student",surname:"Number1",email:"rsschool@cool.yep",avatar:"",score:90})}))}getArrayOfFirstNSortedByScore(e=1){return i(this,void 0,void 0,(function*(){return(yield this.retrieve()).sort(((e,t)=>e.score>t.score?-1:1)).slice(0,e)}))}}t.DBBestScore=a},985:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,a){function o(e){try{l(i.next(e))}catch(e){a(e)}}function r(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,r)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DataAccess=void 0;const s=n(123);t.DataAccess=class{constructor(e,t){this.storeName=t,this.connection=(new s.DBAccess).instance.connect(e,t)}add(e){return i(this,void 0,void 0,(function*(){const t=(yield this.connection).transaction([this.storeName],"readwrite").objectStore(this.storeName).add(e);return this.requestHandler(t)}))}retrieve(){return i(this,void 0,void 0,(function*(){const e=(yield this.connection).transaction([this.storeName],"readonly").objectStore(this.storeName);return new Promise((t=>{const n=[];e.openCursor().onsuccess=e=>{const i=e.target.result;if(!i)return t(n);n.push(i.value),i.continue()}}))}))}update(e){return i(this,void 0,void 0,(function*(){const t=(yield this.connection).transaction([this.storeName],"readwrite").objectStore(this.storeName).put(e);return this.requestHandler(t)}))}get(e){return i(this,void 0,void 0,(function*(){const t=(yield this.connection).transaction([this.storeName],"readonly").objectStore(this.storeName).get(e);return this.requestHandler(t)}))}remove(e){return i(this,void 0,void 0,(function*(){const t=(yield this.connection).transaction([this.storeName],"readwrite").objectStore(this.storeName).delete(e);return this.requestHandler(t)}))}requestHandler(e){return new Promise(((t,n)=>{e.onsuccess=()=>t(e.result),e.onerror=()=>n(e.error)}))}}},774:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,a){function o(e){try{l(i.next(e))}catch(e){a(e)}}function r(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,r)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0;const s=n(6),a=n(92),o=n(25),r=n(543),l=n(485),d=n(843);n(981);const c=n(502);class u extends a.BaseComponent{constructor(e,t){super("div",["game-wrapper"]),this.isAnimation=!1,this.isGameStopped=!0,this.isGameWinned=!1,this.cardsTotalCount=0,this.cardsMatchedCount=0,this.totalAttempts=0,this.getWinPoints=()=>{const e=this.timer.getTotalSeconds(),t=100*this.cardsMatchedCount-10*e;return t>=0?t:0},this.cardsField=new r.CardsField,this.element.appendChild(this.cardsField.element),this.timer=new d.Timer,this.dbBestscore=new l.DBBestScore("drunich-z","BestScore"),this.gameStartControl=e,this.gameStopControl=t}newGame(e){return i(this,void 0,void 0,(function*(){this.isGameStopped=!1,this.isGameWinned=!1,this.cardsTotalCount=e.length,this.cardsField.clear(),this.element.prepend(this.timer.element);const t=e.concat(e).map((e=>new o.Card(e))).sort((()=>Math.random()-.5));t.forEach((e=>{e.element.addEventListener("click",(()=>this.cardHandler(e)))})),this.timer.startCountDown(this.cardsField.startShowTime()),yield this.cardsField.addCards(t),this.isGameStopped?this.timer.stop():this.timer.restart()}))}finishGame(){var e,t;if(this.isGameStopped=!0,this.timer.stop(),this.activeCard=void 0,this.isAnimation=!1,null===(e=this.gameStopControl)||void 0===e||e.classList.add("hidden"),null===(t=this.gameStartControl)||void 0===t||t.classList.remove("hidden"),this.isGameWinned){const e=this.getWinPoints(),t=JSON.parse(localStorage.user);this.dbBestscore.add({uid:t.email,name:t.name,surname:t.surname,email:t.email,avatar:t.avatar,score:e}),new c.Popup(`YOU ARE WIN! CONDRATULATIONS! YOUR TOTAL SCORE IS ${e}!`).show()}this.cardsMatchedCount=0}isGameIsRunning(){return!this.isGameStopped}cardHandler(e){return i(this,void 0,void 0,(function*(){if(!this.isGameStopped&&!this.isAnimation&&e.isFlipped){if(this.isAnimation=!0,yield e.flipToFront(),!this.activeCard)return this.activeCard=e,void(this.isAnimation=!1);if(this.activeCard.image!==e.image)return e.showError(),this.activeCard.showError(),yield s.delay(2e3),yield Promise.all([this.activeCard.flipToBack(),e.flipToBack()]),e.removeError(),this.activeCard.removeError(),this.activeCard=void 0,this.isAnimation=!1,void(this.totalAttempts+=1);e.showValid(),this.activeCard.showValid(),this.activeCard=void 0,this.isAnimation=!1,this.cardsMatchedCount+=1,this.cardsMatchedCount===this.cardsTotalCount&&(this.isGameWinned=!0,this.finishGame())}}))}}t.Game=u},34:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0,n(144);const i=n(92);class s extends i.BaseComponent{constructor(){super("div",["header"]),this.element.innerHTML='\n      <div class="header__wrapper">\n        <div class="logo-game">\n          <img src="./assets/resource/logo-game.svg" alt="logo">\n        </div>\n        <nav class="header__nav">\n          <ul>\n            <li>\n              <a id = "control__about" class = "control__about" href="#">\n                <img src="./assets/resource/logo-about.svg" alt="logo"> \n                About Game\n              </a>\n            </li>\n            <li>\n            <a id = "control__score" class = "control__score" href="#">\n                <img src="./assets/resource/logo-score.svg" alt="logo"> \n                Best Score\n              </a>\n            </li>\n            <li>\n            <a id = "control__settings" class = "control__settings" href="#">\n                <img src="./assets/resource/logo-settings.svg" alt=""> \n                Game Settings\n              </a>\n            </li>\n          </ul>\n        </nav>\n        <div class="controls">\n          <div id="control__user" class="control__user ">\n            register new user\n          </div>\n          <div id="control__game-start" class="control__game-start hidden">\n            start game\n          </div>\n          <div id="control__game-stop" class="control__game-stop hidden">\n            stop game\n          </div>\n          <div id="control__user-logged" class="control__user-logged hidden">\n            <img id="user-avatar" class="user-avatar" src="./assets/resource/avatar.png" alt="">\n          </div>\n\n        </div>\n      </div>\n    ',this.controlPlayer=null,this.controlGameStart=null,this.controlGameStop=null,this.pointerAboutGame=null,this.pointerGameScore=null,this.pointerGameSettings=null}initAllControl(){this.controlPlayer=document.getElementById("control__user"),this.controlGameStart=document.getElementById("control__game-start"),this.controlGameStop=document.getElementById("control__game-stop"),this.pointerAboutGame=document.getElementById("control__about"),this.pointerGameScore=document.getElementById("control__score"),this.pointerGameSettings=document.getElementById("control__settings")}}t.Header=s},502:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Popup=void 0;const i=n(92);n(23);class s extends i.BaseComponent{constructor(e){super("div",["popup-wrapper","hidden"]),this.coverElement=document.getElementById("cover"),this.bodyElement=document.body,this.popupTextContainer=new i.BaseComponent("div",["popup-text-contaier"]),this.okButton=new i.BaseComponent("div",["popup-ok-button"]),this.popupTextContainer.element.innerText=e,this.okButton.element.innerText="OK",document.body.appendChild(this.element),this.element.appendChild(this.popupTextContainer.element),this.element.appendChild(this.okButton.element)}show(){this.bodyElement.classList.add("notScrollable"),this.coverElement&&this.coverElement.classList.remove("hidden"),this.element.classList.remove("hidden"),this.okButton.element.addEventListener("click",(()=>{this.removeAllChilds(),document.body.removeChild(this.element),this.coverElement&&this.coverElement.classList.add("hidden")}))}}t.Popup=s},972:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,a){function o(e){try{l(i.next(e))}catch(e){a(e)}}function r(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,r)}l((i=i.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.InputAvatar=void 0,n(119);const a=n(586),o=n(92),r=n(579),l=s(n(978));class d extends o.BaseComponent{constructor(){super("div",["ava-input-container"]),this.ReadImageFile=e=>new Promise((t=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>t(n.result)})),this.toDataURL=e=>{fetch(e).then((e=>e.blob())).then((e=>new Promise(((t,n)=>{const i=new FileReader;i.onloadend=()=>t(i.result),i.onerror=n,i.readAsDataURL(e)}))))},this.input=new r.Input("file","your-ava",["ava-input"]),this.avatarImage=a.createDOMElement("img",["ava-img"],""),this.avatarImage.setAttribute("src",l.default),this.avatarImage.setAttribute("alt","ava"),this.element.appendChild(this.avatarImage),this.element.appendChild(this.input.element),this.avatarBase64="",this.initListener()}initListener(){this.input.element.addEventListener("change",(e=>this.onAvaPreload(e)))}clear(){this.element.files=null,this.element.value="",this.avatarImage.setAttribute("src",l.default),this.avatarBase64=""}onAvaPreload(e){return i(this,void 0,void 0,(function*(){const t=e.target.files[0],n=yield this.ReadImageFile(t);this.avatarBase64=n,this.avatarImage.setAttribute("src",n)}))}}t.InputAvatar=d},579:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Input=void 0,n(166);const i=n(92);class s extends i.BaseComponent{constructor(e="text",t="placeholder",n=[""],i="",s=""){super("input",n),this.element.setAttribute("type",e),this.element.setAttribute("placeholder",t),i&&this.element.setAttribute("pattern",i),s&&this.element.setAttribute("title",s),this.initClasslistener()}initOutclassListener(e){this.element.addEventListener("input",e)}initClasslistener(){this.element.addEventListener("input",(()=>{this.element.validity.valid?this.element.classList.add("valid"):this.element.classList.remove("valid")}))}clear(){this.element.value=""}}t.Input=s},211:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RegButton=void 0;const i=n(92);class s extends i.BaseComponent{constructor(e,t){super("div",e),this.element.innerText=t}}t.RegButton=s},577:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RegistrationForm=void 0,n(648);const i=n(92),s=n(586),a=n(579),o=n(972),r=n(211),l=n(485);class d extends i.BaseComponent{constructor(){super("form",["registration-form","hidden"]),this.formValidateHandle=e=>{e.nameInput.element.validity.valid&&e.surnameInput.element.validity.valid&&e.emailInput.element.validity.valid&&e.nameInput.element.value&&e.surnameInput.element.value&&e.emailInput.element.value?e.addButton.element.classList.add("active"):e.addButton.element.classList.remove("active")},this.cancel=e=>{e.nameInput.clear(),e.surnameInput.clear(),e.emailInput.clear(),e.avatarInput.clear(),e.addButton.element.classList.remove("active")},this.addPlayer=e=>{if(!e.addButton.element.classList.contains("active"))return;const t={name:e.nameInput.element.value,surname:e.surnameInput.element.value,email:e.emailInput.element.value,avatar:e.avatarInput.avatarBase64};localStorage.user=JSON.stringify(t);const n=document.getElementById("control__user"),i=document.getElementById("control__game-start"),s=document.getElementById("control__user-logged"),a=document.getElementById("user-avatar"),o=document.getElementById("cover"),r=document.body;t.avatar&&(null==a||a.setAttribute("src",t.avatar)),null==a||a.setAttribute("title",`${t.name} ${t.surname}`),null==i||i.classList.remove("hidden"),null==s||s.classList.remove("hidden"),null==n||n.classList.add("hidden"),r.classList.remove("notScrollable"),null==o||o.classList.add("hidden"),e.hide()};const e="^[a-zA-Zа-яА-Я][a-zA-Za-zA-Zа-яА-Я0-9\\s]{1,30}$";this.nameInput=new a.Input("text","input your name here",["input-name"],e,"Input correct name!"),this.surnameInput=new a.Input("text","input your surname here",["input-surname"],e,"Input correct surname!"),this.emailInput=new a.Input("email","input your email here",["input-email"],'^(([^<>()\\[\\]\\\\.,;:\\s@"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$',"Input correct email!"),this.avatarInput=new o.InputAvatar,this.addButton=new r.RegButton(["button","add-button"],"add user"),this.cancelButton=new r.RegButton(["button","cancel-button"],"cancel"),this.testDB=new l.DBBestScore("drunich-z","BestScore"),this.initForm();const t=this;this.nameInput.initOutclassListener((()=>this.formValidateHandle(t))),this.surnameInput.initOutclassListener((()=>this.formValidateHandle(t))),this.emailInput.initOutclassListener((()=>this.formValidateHandle(t))),this.cancelButton.element.addEventListener("click",(()=>this.cancel(t))),this.addButton.element.addEventListener("click",(()=>this.addPlayer(t)))}initForm(){const e=s.createDOMElement("h3",["form-title"],"Register new Player"),t=s.createDOMElement("div",["inputs-container"],""),n=s.createDOMElement("div",["inputs"],"");this.element.appendChild(n),n.appendChild(this.nameInput.element),n.appendChild(this.surnameInput.element),n.appendChild(this.emailInput.element),t.appendChild(n),t.appendChild(this.avatarInput.element);const i=s.createDOMElement("div",["buttons-container"],"");i.appendChild(this.addButton.element),i.appendChild(this.cancelButton.element),this.element.appendChild(e),this.element.appendChild(t),this.element.appendChild(i)}}t.RegistrationForm=d},388:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BoxSelect=void 0,n(372);const i=n(92),s=n(586);class a extends i.BaseComponent{constructor(e,t,n){super("select",[e]),this.options=[],this.element.setAttribute("required","required"),this.element.setAttribute("name",n);for(let e=0;e<t.length;e++)this.options[e]=s.createDOMElement("option",["select-options"],t[e]),this.element.appendChild(this.options[e])}initOutclassListener(e){this.element.addEventListener("change",e)}}t.BoxSelect=a},214:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=void 0,n(372);const i=n(92),s=n(586),a=n(388);class o extends i.BaseComponent{constructor(){super("div",["settings-wrapper","hidden"]);const e=s.createDOMElement("div",["settings-container"],"");this.element.appendChild(e),e.appendChild(s.createDOMElement("h3",["settings-title"],"GAME SETTINGS"));const t=s.createDOMElement("div",["field-size-container"],"");e.appendChild(t),t.appendChild(s.createDOMElement("div",["field-text"],"Field size")),this.fieldSizeSettings=new a.BoxSelect("field-settings",["4x4","6x6"],"FIELD SETTINGS"),t.appendChild(this.fieldSizeSettings.element);const n=s.createDOMElement("div",["cards-face-container"],"");e.appendChild(n),n.appendChild(s.createDOMElement("div",["cards-text"],"Cards face")),this.cardFaceSettings=new a.BoxSelect("cards-settings",["dogs","cats"],"CARD FACE SETTINGS"),n.appendChild(this.cardFaceSettings.element)}}t.Settings=o},843:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0,n(397);const i=n(92);class s extends i.BaseComponent{constructor(){super("div",["game-timer"]),this.timerId=0,this.startTime=0,this.finishTime=0,this.stop=()=>{clearInterval(this.timerId),this.finishTime=Date.now()},this.restart=()=>{this.stop(),this.start()},this.getTotalSeconds=()=>Math.ceil((this.finishTime-this.startTime)/1e3),this.milisecundesToMinutesAndSeconds=e=>{const t=Math.floor(e/1e3%60),n=Math.floor(e/6e4%60);return`${n<10?`0${n}`:n}:${t<10?`0${t}`:t}`}}start(){this.element.innerText="00:00",this.startTime=Date.now();let e=0;this.timerId=window.setInterval((()=>{e=Date.now()-this.startTime,this.element.innerText=`${this.milisecundesToMinutesAndSeconds(e)}`}),1e3)}startCountDown(e){const t=e+500;let n=1,i=0;this.element.innerText="00:00",this.timerId=window.setInterval((()=>{i=t-1e3*n,n+=1,this.element.innerText=`${this.milisecundesToMinutesAndSeconds(i)}`}),1e3)}}t.Timer=s},303:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,a){function o(e){try{l(i.next(e))}catch(e){a(e)}}function r(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,r)}l((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),n(356);const s=n(477),a=n(34),o=n(70),r=n(485),l=n(39),d=n(214),c=n(577),u=n(586),h=document.body,m=document.getElementById("app");if(!m)throw Error("App root element not found");const p=new r.DBBestScore("drunich-z","BestScore");p.addFivePlayersOnStart();const v=new a.Header;h.prepend(v.element),v.initAllControl();const f=new o.AboutGame;m.appendChild(f.element);const g=new l.BestScore;m.appendChild(g.element);const y=new d.Settings;m.appendChild(y.element);const C=new s.App(m,v.controlGameStart,v.controlGameStop),w=new c.RegistrationForm;h.append(w.element);const _=u.createDOMElement("div",["cover","hidden"]);function b(){f.hide(),g.hide(),y.hide(),C.hide()}function S(){h.classList.add("notScrollable"),_.classList.remove("hidden"),w.show()}function B(){var e,t,n;C.isCurrentGameIsRunning()&&(C.stopGame(),(null===(e=v.controlPlayer)||void 0===e?void 0:e.classList.contains("hidden"))&&(null===(t=v.controlGameStart)||void 0===t||t.classList.remove("hidden")),null===(n=v.controlGameStop)||void 0===n||n.classList.add("hidden"))}function E(){return i(this,void 0,void 0,(function*(){const e=yield p.getArrayOfFirstNSortedByScore(10);b(),B(),g.showBestScore(e)}))}h.append(_),_.setAttribute("id","cover"),window.onload=()=>{var e,t,n,i,s,a;null===(e=v.controlGameStart)||void 0===e||e.addEventListener("click",(()=>{var e,t;b(),C.show(),C.startGame(),null===(e=v.controlGameStart)||void 0===e||e.classList.add("hidden"),null===(t=v.controlGameStop)||void 0===t||t.classList.remove("hidden")})),null===(t=v.controlGameStop)||void 0===t||t.addEventListener("click",(()=>{var e,t;C.stopGame(),null===(e=v.controlGameStart)||void 0===e||e.classList.remove("hidden"),null===(t=v.controlGameStop)||void 0===t||t.classList.add("hidden")})),null===(n=v.controlPlayer)||void 0===n||n.addEventListener("click",S),null===(i=v.pointerGameScore)||void 0===i||i.addEventListener("click",E),null===(s=v.pointerAboutGame)||void 0===s||s.addEventListener("click",(()=>{b(),B(),f.show()})),null===(a=v.pointerGameSettings)||void 0===a||a.addEventListener("click",(()=>{b(),B(),y.show()}))},_.addEventListener("click",(()=>{h.classList.remove("notScrollable"),_.classList.add("hidden"),w.hide()}))},6:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0,t.delay=function(e){return new Promise((t=>{setTimeout(t,e)}))}},586:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createDOMElement=void 0,t.createDOMElement=function(e="div",t=[],n=""){const i=document.createElement(e);return i.classList.add(...t),i.innerHTML=n,i}},978:(e,t,n)=>{e.exports=n.p+"assets/resource/avatar283961a3dbfd3dd58825.png"}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,n),a.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n(303)})();